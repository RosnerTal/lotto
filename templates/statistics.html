{% extends "base.html" %}

{% block title %}Statistics - Israeli Lottery Predictor{% endblock %}

{% block content %}
<div class="section">
    <h1>Lottery Statistics</h1>
    <p>Comprehensive analysis of {{ statistics.total_draws }} historical draws</p>

    <div class="stats-overview">
        <div class="stat-card-large">
            <h3>Most Common Number</h3>
            <div class="lottery-numbers large">
                <span class="ball hot">{{ statistics.most_common_number[0] }}</span>
            </div>
            <p>Appeared {{ statistics.most_common_number[1] }} times</p>
        </div>
        <div class="stat-card-large">
            <h3>Least Common Number</h3>
            <div class="lottery-numbers large">
                <span class="ball cold">{{ statistics.least_common_number[0] }}</span>
            </div>
            <p>Appeared {{ statistics.least_common_number[1] }} times</p>
        </div>
        <div class="stat-card-large">
            <h3>Most Common Strong Number</h3>
            <div class="lottery-numbers large">
                <span class="ball strong">{{ statistics.most_common_strong[0] }}</span>
            </div>
            <p>Appeared {{ statistics.most_common_strong[1] }} times</p>
        </div>
        <div class="stat-card-large">
            <h3>Least Common Strong Number</h3>
            <div class="lottery-numbers large">
                <span class="ball strong">{{ statistics.least_common_strong[0] }}</span>
            </div>
            <p>Appeared {{ statistics.least_common_strong[1] }} times</p>
        </div>
    </div>
</div>

<div class="section">
    <h2>Number Frequency Analysis (All Time)</h2>
    <div class="frequency-chart">
        {% for number in range(1, 38) %}
        <div class="frequency-bar">
            <div class="bar-label">{{ number }}</div>
            <div class="bar-container">
                <div class="bar-fill" style="width: {{ (statistics.frequency_all_time[number] / statistics.total_draws * 100 * 6) }}%"></div>
            </div>
            <div class="bar-value">{{ statistics.frequency_all_time.get(number, 0) }}</div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2>Strong Number Frequency</h2>
    <div class="strong-frequency">
        {% for number in range(1, 8) %}
        <div class="strong-stat">
            <span class="ball strong large">{{ number }}</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ (statistics.strong_number_frequency[number] / statistics.total_draws * 100) }}%"></div>
            </div>
            <p>{{ statistics.strong_number_frequency.get(number, 0) }} times ({{ "%.1f"|format((statistics.strong_number_frequency.get(number, 0) / statistics.total_draws * 100)) }}%)</p>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2>Categories</h2>
    <div class="category-grid">
        <div class="category-card">
            <h3>üî• Hot Numbers</h3>
            <p>Most frequent in recent 50 draws</p>
            <div class="lottery-numbers">
                {% for num in statistics.hot_numbers %}
                <span class="ball hot">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="category-card">
            <h3>‚ùÑÔ∏è Cold Numbers</h3>
            <p>Least frequent in recent 50 draws</p>
            <div class="lottery-numbers">
                {% for num in statistics.cold_numbers %}
                <span class="ball cold">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="category-card">
            <h3>‚è∞ Overdue Numbers</h3>
            <p>Haven't appeared in a while</p>
            <div class="lottery-numbers">
                {% for num in statistics.overdue_numbers %}
                <span class="ball overdue">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}


