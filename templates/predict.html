{% extends "base.html" %}

{% block title %}Predictions - Israeli Lottery Predictor{% endblock %}

{% block content %}
<div class="section">
    <h1>Lottery Predictions</h1>
    <p>Based on analysis of {{ statistics.total_draws }} historical draws from the last 4 years</p>
    <p style="margin-top: 0.5rem;">
        <a href="{{ url_for('how_it_works') }}" class="info-link" style="color: #007bff; text-decoration: none; font-weight: 500;">
            ‚ÑπÔ∏è How do these predictions work? Click here to learn about our 10 different methods
        </a>
    </p>

    <form method="POST" class="prediction-form">
        <div class="form-row">
            <div class="form-group-inline">
                <label for="num_predictions">Number of predictions:</label>
                <select name="num_predictions" id="num_predictions">
                    {% for i in range(1, 11) %}
                    <option value="{{ i }}" {% if current_num == i or (not current_num and i == 5) %}selected{% endif %}>
                        {{ i }} {% if i == 1 %}prediction{% else %}predictions{% endif %}
                    </option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group-inline variety-control">
                <label for="variety">Variety Level: <span id="variety-value">{{ current_variety if current_variety is defined else 0 }}%</span></label>
                <input type="range" name="variety" id="variety" min="0" max="100" step="10" 
                       value="{{ current_variety if current_variety is defined else 0 }}"
                       oninput="document.getElementById('variety-value').textContent = this.value + '%'">
                <div class="variety-labels">
                    <span>Same every time</span>
                    <span>Random</span>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Generate Predictions</button>
    </form>

    <div class="predictions-grid">
        {% for pred in predictions %}
        <div class="prediction-card">
            <div class="prediction-header">
                <h3>Prediction #{{ pred.prediction_number }}</h3>
                <span class="strategy-badge">{{ pred.strategy }}</span>
            </div>
            <div class="lottery-numbers large">
                {% for num in pred.numbers %}
                <span class="ball">{{ num }}</span>
                {% endfor %}
            </div>
            <div class="strong-number-section">
                <p>Strong Number:</p>
                <span class="ball strong large">{{ pred.strong_number }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2>Quick Statistics</h2>
    <div class="stats-grid">
        <div class="stat-box">
            <h4>üî• Hot Numbers (Recent 50 Draws)</h4>
            <div class="lottery-numbers">
                {% for num in statistics.hot_numbers %}
                <span class="ball hot">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="stat-box">
            <h4>‚ùÑÔ∏è Cold Numbers (Recent 50 Draws)</h4>
            <div class="lottery-numbers">
                {% for num in statistics.cold_numbers %}
                <span class="ball cold">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="stat-box">
            <h4>‚è∞ Overdue Numbers</h4>
            <div class="lottery-numbers">
                {% for num in statistics.overdue_numbers %}
                <span class="ball overdue">{{ num }}</span>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}


